<!DOCTYPE html>
<html>
  <head>
    <title>CoffeeScript and SASS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <!-- <script src="https://github.com/downloads/gnab/remark/remark-0.3.0.min.js" type="text/javascript"></script>-->
    <script src="../remark/remark.min.js" type="text/javascript"></script>
    <script src="jquery.js" type="text/javascript"></script>
    <script src="coffee-script.js" type="text/javascript"></script>
    <script src="eval-coffeescript.js" type="text/javascript"></script>

    <link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,700,200' rel='stylesheet' type='text/css'>
    <style type="text/css" media="screen">
      html, body { font-family: 'Minion Pro', 'Palatino Linotype', 'Palatino', 'Georgia', serif; font-size: 24px; }
      h1, h2, h3, h4, h5, h6 { font-family: 'Yanone Kaffeesatz', sans-serif; font-weight: 400; }
      h1 { font-size: 4.5em; color: #FF4943; }
      h2 { font-size: 2.5em; }

      a { color: #41C8F0; text-decoration: none; }
      a:hover { color: #FF4943; text-decoration: none; }

      pre code { padding: 1em 2em; }

      p > code, li > code { padding: 1px 4px; border: 1px solid #CCC; background-color: #EEE; }

      code { position: relative; }
      code a.run { position: absolute; top: 10px; right: 10px; }

      .position { font-size: 0.8em; }

      .slide {}
      .slide > .red { background-color: #FF4943; color: #F0F2EB; }

      .red   { color: #FF4943; }
      .gray  { color: #787878; }
      .green { color: #87A558; }
      .blue  { color: #41C8F0; }

      .nice p { font-size: 2.5em; font-family: 'Yanone Kaffeesatz', sans-serif; font-weight: 400; color: #787878; }
    </style>
  </head>
  <body>
    <textarea id="source">

.center.middle

# CoffeeScript .gray[&] SASS

---

## Agenda

1. Hva er *CoffeeScript*?
2. Hva er *SASS*?
3. Hvordan fungerer *the asset pipeline*?
4. Hvordan skrive *CoffeeScript-tester* i CoffeeScript?

---

## CoffeeScript

* Kompilerer ned til JavaScript.
* … men er ikke et supersett (som SASS er for CSS)
* Mindre kode enn JavaScript.
* "Ny" funksjonalitet på toppen av JavaScript.
* Unngår "the bad parts" av JavaScript, f.eks. globale variabler.
* Inspirert av Python og Ruby (dere vil kjenne igjen mye!)
* Default i Rails 3.1

---

.nice.middle.center

".blue[It's just JavaScript]"

---

.nice.middle.center

Men hva er egentlig JavaScript?

---

## JavaScript

Kjører i nettleseren. Vært der lenge, unngått i mange år. Renessanse. AJAX. Node.js.

---

.middle.center

# .gray[Intro til] CoffeeScript

---

## CoffeeScript ≈ Ruby = ♥

Mye er likt Ruby, for eksempel:

* Ingen semikolon
* Trenger ikke paranteser for å kalle metoder
* Kommentarer starter med #
* Interpolasjon → Coffeescript i en string

Men CoffeeScript har noen særegenheter fra Ruby:

* Signifikant whitespace
* ...

---

## Variabler

    .coffeescript
    myVariable = "test"
    someNumber = 42
    aBoolean = true

Helt likt Ruby — men camelcased!

---

## Funksjoner

I CoffeeScript brukes `->` for å definere en funksjon:

    .coffeescript
    func = -> "bar"

Innholdet settes ofte på neste linje:

    .coffeescript
    func = ->
      "bar"

Med variabler:

    .coffeescript
    func = (x, y) ->
      console.log x, y

    func 12, "test"

---

.nice.middle

For å komme igang med å bruke CoffeeScript må vi forstå noen sentrale JavaScript-konsepter.

---

.nice.middle

JavaScript er .green[eventbasert]

---

## Eventer

JavaScript fungerer annerledes enn Ruby. I Ruby kan du skrive:

    .ruby
    f = File.open("filename.txt")
    puts f.read

Men det samme ville ikke fungert i JavaScript.

Hvorfor?

---

## Eventer

Vi vet ikke om `open` er ferdig når det vi kaller `read`.

I JavaScript (og CoffeeScript) sier vi:

1. Start gjennomføringen av denne metoden
2. Gå videre
3. Eventuelt, når du er ferdig, kall en metode (ofte kalt en *callback*)

---

Eksempel

---

.nice.middle

.green[bind] kobler en funksjon til en event

---

## bind

Nettlesere har et sett med innebygde eventer, f.eks.:

* `click`
* `submit`
* `focus`
* `change`
* `mouseOver`

Vi kan dermed kalle en funksjon for eksempel når en bruker klikker på en link.

---

## Eksempel på bind

    .coffeescript
    a = "test"
    console.log a

eksempel to

    .coffeescript
    a = "test"
    alert a

---

## bind

Vi kan lage våre egne eventer, og binde til disse:

---

.nice.middle

this

---

## this

I Ruby bruker man `self` for å vise til objektet. I CoffeeScript bruker man `this`. Men de fungerer ikke helt likt.

---

.middle.center

Et av problemene med CoffeeScript er at man *burde* lære JavaScript.

(Debugging kan være vanskelig.)

---

.nice.middle.center

Les [JavaScript: The Good Parts](test)!

---

.middle.center

## Spørsmål?

Presentasjonen er laget med [remark](http://gnab.github.com/remark/).

    </textarea>
    <div id="slideshow"></div>
    <script type="text/javascript">
      var remark = this.remark;
      $(document).ready(function() {
        remark.events.addListener("slide", function() {
          loadConsolesOn("code.coffeescript:contains('alert')");
          loadConsolesOn("code.coffeescript:contains('console')");
        });
      });
    </script>
  </body>
</html>
